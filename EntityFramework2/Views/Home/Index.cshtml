@model PagedList<EntityFramework2.Models.Product>
@using Webdiyer.WebControls.Mvc;
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>
<div>
    <form action="/Home/Search">
        <span>产品名称</span><input type="text" name="PName" />
        <span>产品类型</span><input type="text" name="CName" />
        <input type="submit" value="查询" />
    </form>
    <form>
        <a href="/Home/Add">添加</a>
        <table class="table table-striped">
            <tr><td>产品名称</td><td>产品类型</td><td>价格</td><td>操作</td></tr>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.PName</td>
                    <td>@item.Cat.CName</td>
                    <td>@item.Price</td>
                    <td><a href="/Home/Del/@item.Pid" onclick="return confirm('确认删除?')">删除</a>
                        <a href="/Home/Edit/@item.Pid">修改</a></td>
                </tr>
            }
        </table>
        @*获取或设置路由Url中页索引参数的名称。*@ 
        @Html.Pager(Model, new PagerOptions { PageIndexParameterName="pageNumber"})
    </form>
</div>
